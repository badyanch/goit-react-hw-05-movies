{"version":3,"file":"static/js/977.0fc50739.chunk.js","mappings":"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","sources":["components/ErrorMessage/ErrorMessage.styled.jsx","components/ErrorMessage/ErrorMessage.jsx","components/MoviesList/MoviesList.styled.jsx","components/MoviesList/MoviesList.jsx","components/SearchMovies/SearchMovies.styled.jsx","components/SearchMovies/SearchMovies.jsx","pages/Movies/Movies.styled.jsx","pages/Movies/Movies.jsx","services/moviesAPI.js"],"sourcesContent":["import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  justify-content: center;\n`;\n\nexport const ErrorText = styled.p`\n  display: inline-block;\n  margin-top: 4px;\n  padding: 8px;\n  font-size: 18px;\n  line-height: 1.5;\n  color: ${({ theme }) => theme.colors.secondaryText};\n  background-color: #fabdb5;\n  border: 1px solid #e34542;\n  border-radius: 8px;\n`;\n","import PropTypes from 'prop-types';\nimport * as S from './ErrorMessage.styled';\n\nconst ErrorMessage = ({ errorText }) => (\n  <S.Container>\n    <S.ErrorText>{errorText}</S.ErrorText>\n  </S.Container>\n);\n\nErrorMessage.propTypes = {\n  errorText: PropTypes.string.isRequired,\n};\n\nexport default ErrorMessage;\n","import styled from 'styled-components';\nimport { Link } from 'react-router-dom';\n\nexport const List = styled.ul`\n  display: flex;\n  flex-direction: column;\n  gap: 8px;\n`;\n\nexport const LinkToDetails = styled(Link)`\n  display: block;\n  padding: 4px 8px;\n  max-width: 520px;\n\n  font-size: 18px;\n  line-height: 1.5;\n  color: ${({ theme }) => theme.colors.primaryText};\n\n  background-color: ${({ theme }) => theme.colors.primaryBg};\n  border: 1px solid ${({ theme }) => theme.colors.secondaryText};\n  border-radius: 8px;\n\n  transition: color\n      ${({ theme }) => `${theme.duration} ${theme.timingFunction}`},\n    background-color\n      ${({ theme }) => `${theme.duration} ${theme.timingFunction}`};\n\n  &:hover,\n  &:focus {\n    color: ${({ theme }) => theme.colors.primary};\n    background-color: ${({ theme }) => theme.colors.secondaryBg};\n  }\n`;\n","import PropTypes from 'prop-types';\nimport { useLocation } from 'react-router-dom';\nimport * as S from './MoviesList.styled';\n\nconst MoviesList = ({ movies }) => {\n  const location = useLocation();\n\n  return (\n    <S.List>\n      {movies.map(({ id, title }) => (\n        <li key={id}>\n          <S.LinkToDetails to={`/movies/${id}`} state={{ from: location }}>\n            {title}\n          </S.LinkToDetails>\n        </li>\n      ))}\n    </S.List>\n  );\n};\n\nMoviesList.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.exact({\n      id: PropTypes.number.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default MoviesList;\n","import styled from 'styled-components';\n\nexport const Form = styled.form`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n`;\n\nexport const Container = styled.div`\n  position: relative;\n`;\n\nexport const Input = styled.input`\n  padding: 4px 8px;\n  max-width: 320px;\n  width: 100%;\n\n  color: ${({ theme }) => theme.colors.primaryText};\n\n  border: 3px solid ${({ theme }) => theme.colors.secondaryText};\n  border-radius: 8px;\n  outline: none;\n\n  cursor: pointer;\n\n  transition: border-color\n    ${({ theme }) => `${theme.duration} ${theme.timingFunction}`};\n\n  &:focus {\n    border-color: ${({ theme }) => theme.colors.secondaryBg};\n  }\n\n  &::placeholder {\n    color: ${({ theme }) => theme.colors.secondaryText};\n  }\n`;\n\nexport const ErrorText = styled.p`\n  position: absolute;\n  left: 0;\n\n  margin-top: 4px;\n  padding: 8px;\n  width: 100%;\n\n  font-size: 16px;\n  line-height: 1.5;\n  color: ${({ theme }) => theme.colors.secondaryText};\n\n  background-color: #fafab5;\n  border: 1px solid #e3e342;\n  border-radius: 8px;\n`;\n\nexport const Button = styled.button`\n  padding: 4px 8px;\n\n  font-size: 16px;\n  line-height: 1.5;\n  color: ${({ theme }) => theme.colors.primaryText};\n\n  background-color: ${({ theme }) => theme.colors.primaryBg};\n  border: 1px solid ${({ theme }) => theme.colors.secondaryText};\n  border-radius: 8px;\n\n  cursor: pointer;\n\n  transition: color\n      ${({ theme }) => `${theme.duration} ${theme.timingFunction}`},\n    background-color\n      ${({ theme }) => `${theme.duration} ${theme.timingFunction}`};\n\n  &:hover,\n  &:focus {\n    color: ${({ theme }) => theme.colors.primary};\n    background-color: ${({ theme }) => theme.colors.secondaryBg};\n  }\n`;\n","import { useForm } from 'react-hook-form';\nimport { yupResolver } from '@hookform/resolvers/yup';\nimport * as yup from 'yup';\nimport PropTypes from 'prop-types';\nimport * as S from './SearchMovies.styled';\n\nconst schema = yup.object().shape({\n  query: yup\n    .string()\n    .matches(/\\s*\\S.*$/, 'Enter something.')\n    .required(),\n});\n\nconst initialValues = {\n  query: '',\n};\n\nconst SearchMovies = ({ onSubmit }) => {\n  const {\n    register,\n    handleSubmit,\n    reset,\n    formState: { errors },\n  } = useForm({ resolver: yupResolver(schema), defaultValues: initialValues });\n\n  return (\n    <S.Form\n      autoComplete=\"off\"\n      onSubmit={handleSubmit(({ query }) => {\n        onSubmit(query);\n        reset();\n      })}\n    >\n      <S.Container>\n        <S.Input\n          type=\"text\"\n          {...register('query')}\n          placeholder=\"Movie search...\"\n        />\n        {errors.query && <S.ErrorText>{errors.query.message}</S.ErrorText>}\n      </S.Container>\n\n      <S.Button type=\"submit\">Search</S.Button>\n    </S.Form>\n  );\n};\n\nexport default SearchMovies;\n\nSearchMovies.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const NotFound = styled.p`\n  display: inline-block;\n  padding: 4px 8px;\n\n  font-size: 16px;\n  line-height: 1.5;\n  color: ${({ theme }) => theme.colors.secondaryText};\n\n  background-color: ${({ theme }) => theme.colors.primaryBg};\n  border: 1px solid ${({ theme }) => theme.colors.secondaryText};\n  border-radius: 8px;\n`;\n","import { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport * as moviesAPI from 'services';\nimport { Status } from 'constants';\nimport SearchMovies from 'components/SearchMovies/SearchMovies';\nimport MoviesList from 'components/MoviesList/MoviesList';\nimport Loader from 'components/Loader/Loader';\nimport ErrorMessage from 'components/ErrorMessage/ErrorMessage';\nimport * as S from './Movies.styled';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [status, setStatus] = useState(Status.IDLE);\n  const [error, setError] = useState(null);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n\n  const isNotFound = movies.length === 0 && query.length !== 0;\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n\n    const fetchMovies = async () => {\n      try {\n        setStatus(Status.PENDING);\n\n        const { results } = await moviesAPI.searchMoviesByQuery(query);\n\n        const newMovies = results.map(({ id, title }) => ({ id, title }));\n\n        setMovies(newMovies);\n        setStatus(Status.RESOLVED);\n      } catch (error) {\n        console.log(error);\n        setError(error);\n        setStatus(Status.REJECTED);\n      }\n    };\n\n    fetchMovies();\n  }, [query]);\n\n  const handleSubmit = newQuery => {\n    const normalizedQuery = newQuery.trim();\n    setSearchParams({ query: normalizedQuery });\n    setError(null);\n  };\n\n  if (status === Status.IDLE) {\n    return (\n      <main>\n        <section>\n          <SearchMovies onSubmit={handleSubmit} />\n        </section>\n      </main>\n    );\n  }\n\n  if (status === Status.PENDING) {\n    return (\n      <main>\n        <section>\n          <SearchMovies onSubmit={handleSubmit} />\n        </section>\n        <section>\n          <Loader />\n        </section>\n      </main>\n    );\n  }\n\n  if (status === Status.REJECTED) {\n    return (\n      <main>\n        <section>\n          <SearchMovies onSubmit={handleSubmit} />\n        </section>\n        <section>\n          <ErrorMessage errorText={error.message} />\n        </section>\n      </main>\n    );\n  }\n\n  if (status === Status.RESOLVED) {\n    return (\n      <main>\n        <section>\n          <SearchMovies onSubmit={handleSubmit} />\n        </section>\n        <section>\n          {isNotFound ? (\n            <S.NotFound>Nothing found for query {query}</S.NotFound>\n          ) : (\n            <MoviesList movies={movies} />\n          )}\n        </section>\n      </main>\n    );\n  }\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\n\nconst API_KEY = 'e4ed0f086cbca77909d91aa152a380ab';\n\nconst defaultParams = {\n  api_key: API_KEY,\n};\n\nexport const getTrending = async () => {\n  const res = await axios.get('/trending/movie/day', { params: defaultParams });\n\n  return res.data;\n};\n\nexport const searchMoviesByQuery = async query => {\n  const params = {\n    ...defaultParams,\n    query,\n  };\n\n  const res = await axios.get('/search/movie', { params });\n\n  return res.data;\n};\n\nexport const getMovieDetails = async movieId => {\n  const res = await axios.get(`/movie/${movieId}`, { params: defaultParams });\n\n  return res.data;\n};\n\nexport const getMovieCredits = async movieId => {\n  const res = await axios.get(`/movie/${movieId}/credits`, {\n    params: defaultParams,\n  });\n\n  return res.data;\n};\n\nexport const getMovieReviews = async movieId => {\n  const res = await axios.get(`/movie/${movieId}/reviews`, {\n    params: defaultParams,\n  });\n\n  return res.data;\n};\n"],"names":["Container","styled","ErrorText","theme","colors","secondaryText","errorText","List","LinkToDetails","Link","primaryText","primaryBg","duration","timingFunction","primary","secondaryBg","movies","location","useLocation","map","id","title","to","state","from","Form","Input","Button","schema","yup","shape","query","matches","required","initialValues","onSubmit","useForm","resolver","yupResolver","defaultValues","register","handleSubmit","reset","errors","formState","autoComplete","type","placeholder","message","NotFound","useState","setMovies","Status","status","setStatus","error","setError","useSearchParams","searchParams","setSearchParams","get","isNotFound","length","useEffect","fetchMovies","moviesAPI","results","newMovies","console","log","newQuery","normalizedQuery","trim","Loader","ErrorMessage","MoviesList","axios","defaultParams","api_key","getTrending","params","res","data","searchMoviesByQuery","getMovieDetails","movieId","getMovieCredits","getMovieReviews"],"sourceRoot":""}